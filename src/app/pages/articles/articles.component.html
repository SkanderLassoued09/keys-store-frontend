<app-component-card title="Création Article">
  <div class="space-y-6">
    <!-- Nom -->
    <div>
      <app-label for="nom">Nom</app-label>
      <app-input-field
        type="text"
        id="nom"
        placeholder="Nom de l'article"
        (valueChange)="updateArticle('nom', $event)"
      />
    </div>

    <!-- Référence -->
    <div>
      <app-label for="reference">Référence</app-label>
      <app-input-field
        type="text"
        id="reference"
        placeholder="Référence unique"
        (valueChange)="updateArticle('reference', $event)"
      />
    </div>

    <!-- ✅ Dropdown Type -->
    <div class="relative">
      <app-label for="type">Type</app-label>
      <button
        class="dropdown-toggle w-full border border-gray-300 dark:border-gray-700 rounded-xl px-3 py-2 text-left flex justify-between items-center"
        (click)="toggleDropdown('type')"
      >
        {{ selectedType }}
        <span class="ml-2">▼</span>
      </button>

      <app-dropdown
        [isOpen]="isTypeOpen"
        (close)="isTypeOpen = false"
        className="w-full"
      >
        <ul class="p-2">
          <li
            *ngFor="let type of typeList"
            (click)="selectValue('type', type)"
            class="cursor-pointer px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md"
          >
            {{ type }}
          </li>
        </ul>
      </app-dropdown>
    </div>

    <!-- ✅ Dropdown Catégorie -->
    <div class="relative">
      <app-label for="categorie">Catégorie</app-label>
      <button
        class="dropdown-toggle w-full border border-gray-300 dark:border-gray-700 rounded-xl px-3 py-2 text-left flex justify-between items-center"
        (click)="toggleDropdown('categorie')"
      >
        {{ selectedCategorie }}
        <span class="ml-2">▼</span>
      </button>

      <app-dropdown
        [isOpen]="isCategorieOpen"
        (close)="isCategorieOpen = false"
        className="w-full"
      >
        <ul class="p-2">
          <li
            *ngFor="let cat of categorieList"
            (click)="selectValue('categorie', cat)"
            class="cursor-pointer px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md"
          >
            {{ cat }}
          </li>
        </ul>
      </app-dropdown>
    </div>

    <!-- ✅ Dropdown Fournisseur -->
    <div class="relative">
      <app-label for="fournisseur">Fournisseur</app-label>
      <button
        class="dropdown-toggle w-full border border-gray-300 dark:border-gray-700 rounded-xl px-3 py-2 text-left flex justify-between items-center"
        (click)="toggleDropdown('fournisseur')"
      >
        {{ selectedFournisseur }}
        <span class="ml-2">▼</span>
      </button>

      <app-dropdown
        [isOpen]="isFournisseurOpen"
        (close)="isFournisseurOpen = false"
        className="w-full"
      >
        <ul class="p-2">
          <li
            *ngFor="let fournisseur of fournisseurList"
            (click)="selectValue('fournisseur', fournisseur)"
            class="cursor-pointer px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md"
          >
            {{ fournisseur }}
          </li>
        </ul>
      </app-dropdown>
    </div>

    <!-- ✅ Numeric Inputs -->
    <div>
      <app-label for="prixAchat">Prix Achat</app-label>
      <app-input-field
        type="number"
        id="prixAchat"
        placeholder="Prix d'achat"
        (valueChange)="updateArticle('prixAchat', $event)"
      />
    </div>

    <div>
      <app-label for="prixVente">Prix Vente</app-label>
      <app-input-field
        type="number"
        id="prixVente"
        placeholder="Prix de vente"
        (valueChange)="updateArticle('prixVente', $event)"
      />
    </div>

    <div>
      <app-label for="quantiteStock">Quantité en Stock</app-label>
      <app-input-field
        type="number"
        id="quantiteStock"
        placeholder="Quantité en stock"
        (valueChange)="updateArticle('quantiteStock', $event)"
      />
    </div>

    <div>
      <app-label for="quantiteBoutique">Quantité Boutique</app-label>
      <app-input-field
        type="number"
        id="quantiteBoutique"
        placeholder="Quantité en boutique"
        (valueChange)="updateArticle('quantiteBoutique', $event)"
      />
    </div>
    <div class="flex items-center gap-5">
      <app-button size="sm" variant="primary" (btnClick)="saveArticle()">
        Save
      </app-button>
    </div>
  </div>
</app-component-card>
